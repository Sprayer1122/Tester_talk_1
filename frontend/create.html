<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Issue - Tester Talk</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <header class="main-header">
        <div class="container header-flex">
            <span class="logo" onclick="window.location.href='/'">Tester Talk</span>
            <nav class="nav-links">
                <a href="/">Issues</a>
                <a href="/create.html" id="nav-create-link" class="active">Create Issue</a>
                <a href="/admin.html" id="admin-panel-link" style="display: none;">Admin Panel</a>
            </nav>
            <button type="button" class="btn btn-login" id="login-btn">Login</button>
        </div>
    </header>
    <main class="container">
        <a href="/" class="back-link">&lt; Back to Issues</a>
        <form id="create-issue-form" class="create-issue-card" enctype="multipart/form-data">
            <div class="form-header">
                <h2>Create New Issue</h2>
                <p class="form-subtitle">Report a new testing issue or bug</p>
            </div>

            <!-- Basic Information Section -->
            <div class="form-section-group">
                <h3 class="section-title">Basic Information</h3>
                <div class="form-section">
                    <label>Test Case Title <span class="required">*</span></label>
                    <input name="testcase_title" placeholder="e.g. TTM-564 & TTM-565: Clock Test Function Validation Issues in Shift Sequences" required />
                </div>
                <div class="form-section">
                    <label>Test Case Path <span class="required">*</span></label>
                    <input name="testcase_path" id="testcase-path" placeholder="e.g. /lan/fed/etpv5/release/251/lnx86/etautotest/customer/ccr/02061765" required />
                </div>
                <div id="testcase-info-box" class="info-box">
                    <i class="info-icon">‚Ñπ</i>
                    Information: Release and Platform will be extracted from the path.
                </div>
                <div id="bucket-info-box" class="info-box" style="display: none;">
                    <i class="info-icon">üè∑Ô∏è</i>
                    Auto-Tag: Bucket name will be automatically added as a tag
                </div>
            </div>

            <!-- Test Configuration Section -->
            <div class="form-section-group">
                <h3 class="section-title">Test Configuration</h3>
                <div class="form-row">
                    <div class="form-section">
                        <label>Build <span class="required">*</span></label>
                        <select name="build" id="build-select" required></select>
                    </div>
                    <div class="form-section">
                        <label>Target <span class="required">*</span></label>
                        <select name="target" id="target-select" required></select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-section">
                        <label>Severity <span class="required">*</span></label>
                        <select name="severity" id="severity-select" required></select>
                    </div>
                    <div class="form-section">
                        <label>Test Case ID</label>
                        <input name="test_case_id" value="Auto-generated" readonly />
                        <div class="form-hint">A unique test case ID will be automatically generated</div>
                    </div>
                </div>
            </div>

            <!-- Issue Details Section -->
            <div class="form-section-group">
                <h3 class="section-title">Issue Details</h3>
                <div class="form-section">
                    <label>Description <span class="required">*</span></label>
                    <textarea name="description" placeholder="Detailed description of the issue encountered during execution..." required></textarea>
                    <div class="form-hint">Provide a clear and detailed description of the issue</div>
                </div>
            </div>

            <!-- Advanced Options Section -->
            <div class="form-section-group">
                <h3 class="section-title">Advanced Options</h3>
                <div class="form-section">
                    <label>Tags</label>
                    <div class="tags-input-container">
                        <div class="added-tags" id="added-tags">
                            <!-- Added tags will appear here -->
                        </div>
                        <div class="tag-input-row">
                            <input type="text" id="tag-input" placeholder="Enter a tag and press Enter or click Add" />
                            <button type="button" class="btn btn-secondary btn-small" onclick="addTag()">Add Tag</button>
                        </div>
                        <div class="tag-helper-text">
                            Press Enter or click "Add Tag" to add tags. Bucket names are automatically added from the testcase path.
                        </div>
                    </div>
                    <input type="hidden" name="tags" id="tags-hidden-input" />
                </div>
                <div class="form-section">
                    <label>Additional Comments</label>
                    <textarea name="additional_comments" placeholder="Any additional notes or comments about this test case issue"></textarea>
                </div>
            </div>

            <!-- Reporter Information Section -->
            <div class="form-section-group">
                <h3 class="section-title">Reporter Information</h3>
                <div class="form-row">
                    <div class="form-section">
                        <label>Reporter Name</label>
                        <input name="reporter_name" placeholder="Loading..." readonly />
                        <div class="form-hint">Automatically set to your authenticated username</div>
                    </div>
                </div>
            </div>

            <!-- Attachments Section -->
            <div class="form-section-group">
                <h3 class="section-title">Attachments</h3>
                <div class="form-section">
                    <label>Screenshots</label>
                    <input type="file" name="files" id="file-input" multiple accept="image/png,image/jpeg,image/gif" />
                    <div class="form-hint">You can select multiple image files (PNG, JPG, GIF)</div>
                </div>
            </div>

            <!-- Form Actions -->
            <div class="form-actions">
                <button type="button" class="btn btn-cancel" onclick="window.location.href='/'">Cancel</button>
                <button type="submit" id="create-issue-btn" class="btn btn-create">Create Issue</button>
            </div>
            <div id="form-message"></div>
        </form>
    </main>
    <script src="/static/main.js"></script>
    <script src="/static/notifications.js"></script>
    <script src="/static/loading.js"></script>
    <script src="/static/create.js"></script>
</body>
</html> 